{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { onMounted } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { useDoctors } from '@/store/doctors.pinia';\nimport TheComponentHeader from '@/components/TheComponentHeader.vue';\nimport PriceSpacer from \"@/helpers/PriceSpacer.js\";\nimport router from '@/router';\nexport default {\n  __name: 'DoctorList',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const storeDoctor = useDoctors();\n    const {\n      doctors\n    } = storeToRefs(storeDoctor);\n    const handleEdit = id => {\n      router.push({\n        name: \"DoctorFormEdit\",\n        params: {\n          id: id\n        }\n      });\n    };\n    const handleDelete = async id => {\n      await useDoctors().deleteDoctor(id);\n      await useDoctors().getAllDoctors();\n    };\n    onMounted(() => {\n      useDoctors().getAllDoctors();\n    });\n    const __returned__ = {\n      storeDoctor,\n      doctors,\n      handleEdit,\n      handleDelete,\n      onMounted,\n      get storeToRefs() {\n        return storeToRefs;\n      },\n      get useDoctors() {\n        return useDoctors;\n      },\n      TheComponentHeader,\n      get PriceSpacer() {\n        return PriceSpacer;\n      },\n      get router() {\n        return router;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","storeToRefs","useDoctors","TheComponentHeader","PriceSpacer","router","storeDoctor","doctors","handleEdit","id","push","name","params","handleDelete","deleteDoctor","getAllDoctors"],"sources":["/Users/air/Documents/crm-front/src/views/doctors/DoctorList.vue"],"sourcesContent":["<template>\n    \n    <TheComponentHeader \n    header-title=\"Doktorlar\"\n    route=\"DoctorFormAdd\"\n    btn-title=\"Doktor qo'shish\"\n    />\n    <div class=\"table__content\">\n        <el-table\n        v-loading=\"loader\"\n        :data=\"doctors\"\n        empty-text=\"Ma'lumot mavjud emas!\"\n        >\n        <el-table-column type=\"index\" label=\"â„–\" width=\"55\"/>\n        <el-table-column label=\"Ismi\" width=\"180\">\n            <template #default=\"scope\">\n                <span>{{ scope.row.name }} {{ scope.row.surname }}</span>\n            </template>\n        </el-table-column>\n        <el-table-column label=\"Kasbi\">\n            <template #default=\"scope\">\n                <span>{{ scope.row.category }}</span>\n            </template>\n        </el-table-column>\n        \n        <el-table-column label=\"Xizmat narxi\">\n            <template #default=\"scope\">\n                <span>{{ PriceSpacer(scope.row.serviceCost) }} so'm</span>\n            </template>\n        </el-table-column>\n        <el-table-column width=\"182\">\n            <template #default=\"scope\">\n                <div class=\"actions\">\n                    <el-button class=\"action edit me-2\" @click=\"customerAllTransaction(scope.row.id)\">\n                        <Icons icon_name=\"view\"/>\n                    </el-button>\n                    <el-dropdown trigger=\"click\">\n                        <el-button class=\"action\">\n                            <el-icon>\n                                <MoreFilled/>\n                            </el-icon>\n                        </el-button>\n                        <template #dropdown>\n                            <el-dropdown-menu>\n                                <el-dropdown-item>\n                                    <el-popconfirm\n                                    title=\"Haqiqatdan ham siz ushbu taminotchini o'chirib tashlamoqchimisiz?\"\n                                    confirm-button-text=\"Ha\"\n                                    cancel-button-text=\"Yo'q\"\n                                    width=\"250\"\n                                    hide-icon\n                                    @confirm=\"storeCustomer.deleteCustomer(shopId, scope.row.id)\"\n                                    >\n                                    <template #reference>\n                                        <el-button class=\"action remove\">\n                                            <Icons icon_name=\"remove\"/>\n                                        </el-button>\n                                    </template>\n                                </el-popconfirm>\n                            </el-dropdown-item>\n                            <el-dropdown-item>\n                                <el-button class=\"action edit\" @click=\"showUpdateCustomerDialog(scope.row)\">\n                                    <Icons icon_name=\"edit\"/>\n                                </el-button>\n                            </el-dropdown-item>\n                        </el-dropdown-menu>\n                    </template>\n                </el-dropdown>\n            </div>\n        </template>\n    </el-table-column>\n</el-table>\n<ThePagination \nv-show=\"customer_list?.totalPages > 1\"\n:current-page=\"currentPage\"\n:size=\"size\"\n:total-elements=\"customer_list?.totalElements\"\n@set-pageable=\"setPageable($event)\"\n/>\n</div>\n\n\n\n<el-table :data=\"doctors\" style=\"width: 100%\">\n    <el-table-column label=\"Ismi\" width=\"180\">\n        <template #default=\"scope\">\n            <span>{{ scope.row.name }} {{ scope.row.surname }}</span>\n        </template>\n    </el-table-column>\n    <el-table-column label=\"Kasbi\">\n        <template #default=\"scope\">\n            <span>{{ scope.row.category }}</span>\n        </template>\n    </el-table-column>\n    <el-table-column label=\"Xizmat narxi\">\n        <template #default=\"scope\">\n            <span>{{ PriceSpacer(scope.row.serviceCost) }} so'm</span>\n        </template>\n    </el-table-column>\n    <el-table-column label=\"Ish vaqti\">\n        <template #default=\"scope\">\n            <span>{{ new Date(scope.row.workTime[0]).getHours() }}:{{ new Date(scope.row.workTime[1]).getHours() }}</span>\n        </template>\n    </el-table-column>\n    <el-table-column label=\"Operations\">\n        <template #default=\"scope\">\n            <el-button \n            size=\"small\" \n            @click=\"handleEdit(scope.row.id)\"\n            >Edit</el-button\n            >\n            \n            <el-popconfirm \n            title=\"Are you sure to delete this?\"\n            @confirm=\"handleDelete(scope.row.id)\"\n            >\n            <template #reference>\n                <el-button\n                size=\"small\"\n                type=\"danger\"\n                >Delete</el-button\n                >          \n            </template>\n        </el-popconfirm>\n    </template>\n</el-table-column>\n</el-table>\n</template>\n\n<script setup>\nimport { onMounted } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { useDoctors } from '@/store/doctors.pinia'\nimport TheComponentHeader from '@/components/TheComponentHeader.vue';\nimport PriceSpacer from \"@/helpers/PriceSpacer.js\"\nimport router from '@/router';\nconst storeDoctor = useDoctors();\n\nconst { doctors } = storeToRefs(storeDoctor);\n\n\nconst handleEdit = (id) => {\n    router.push({ name:\"DoctorFormEdit\", params: {id: id} })\n}\n\nconst handleDelete = async (id) => {\n    await useDoctors().deleteDoctor(id)\n    await useDoctors().getAllDoctors()\n}\n\nonMounted(() => {\n    useDoctors().getAllDoctors()\n})\n</script>"],"mappings":";AAkIA,SAASA,SAAS,QAAQ,KAAK;AAC/B,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,UAAU,QAAQ,uBAAuB;AAClD,OAAOC,kBAAkB,MAAM,qCAAqC;AACpE,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,MAAM,MAAM,UAAU;;;;;;;IAC7B,MAAMC,WAAW,GAAGJ,UAAU,CAAC,CAAC;IAEhC,MAAM;MAAEK;IAAQ,CAAC,GAAGN,WAAW,CAACK,WAAW,CAAC;IAG5C,MAAME,UAAU,GAAIC,EAAE,IAAK;MACvBJ,MAAM,CAACK,IAAI,CAAC;QAAEC,IAAI,EAAC,gBAAgB;QAAEC,MAAM,EAAE;UAACH,EAAE,EAAEA;QAAE;MAAE,CAAC,CAAC;IAC5D,CAAC;IAED,MAAMI,YAAY,GAAG,MAAOJ,EAAE,IAAK;MAC/B,MAAMP,UAAU,CAAC,CAAC,CAACY,YAAY,CAACL,EAAE,CAAC;MACnC,MAAMP,UAAU,CAAC,CAAC,CAACa,aAAa,CAAC,CAAC;IACtC,CAAC;IAEDf,SAAS,CAAC,MAAM;MACZE,UAAU,CAAC,CAAC,CAACa,aAAa,CAAC,CAAC;IAChC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}