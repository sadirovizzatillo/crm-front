{"ast":null,"code":"import { createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_vue_tel_input = _resolveComponent(\"vue-tel-input\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  const _component_el_radio_button = _resolveComponent(\"el-radio-button\");\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode($setup[\"TheComponentHeader\"], {\n    \"header-title\": \"Doktor qo'shish\",\n    route: \"DoctorList\",\n    \"btn-title\": \"Orqaga\"\n  }), _createVNode(_component_el_form, {\n    ref: \"ruleFormRef\",\n    model: $setup.ruleForm,\n    rules: $setup.rules,\n    class: \"demo-ruleForm\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"Bemor ismi\",\n      prop: \"doctorName\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.doctorName,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.ruleForm.doctorName = $event),\n        autosize: \"\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Bemor familiyasi\",\n      prop: \"surname\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.surname,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.ruleForm.surname = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Kategoriyasi\",\n      prop: \"category\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.category,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.ruleForm.category = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Nima orqali kelgan\",\n      prop: \"advertisementName\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.advertisementName,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.ruleForm.advertisementName = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Viloyat\",\n      prop: \"region\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.region,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.ruleForm.region = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Telefon\",\n      prop: \"mobilePhone\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_vue_tel_input, {\n        modelValue: $setup.ruleForm.homePhone,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.ruleForm.homePhone = $event)\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Shahar\",\n      prop: \"city\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.city,\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.ruleForm.city = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Uy manzili\",\n      prop: \"address\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.address,\n        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.ruleForm.address = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Doktor\",\n      prop: \"doctorId\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        modelValue: $setup.ruleForm.doctorId,\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.ruleForm.doctorId = $event)\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.doctors, doctor => {\n          return _openBlock(), _createBlock(_component_el_option, {\n            key: doctor.id,\n            label: doctor.name + '(' + doctor.category + ')',\n            value: doctor.id\n          }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Tug'ilgan sanasi\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n        modelValue: $setup.ruleForm.dateOfBirth,\n        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.ruleForm.dateOfBirth = $event),\n        \"is-range\": \"\",\n        \"range-separator\": \"To\",\n        \"start-placeholder\": \"Start time\",\n        \"end-placeholder\": \"End time\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Jinsi\",\n      prop: \"gender\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n        modelValue: $setup.ruleForm.gender,\n        \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.ruleForm.gender = $event),\n        size: \"large\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_radio_button, {\n          label: \"ERKAK\"\n        }), _createVNode(_component_el_radio_button, {\n          label: \"AYOL\"\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\", \"rules\"]), _createElementVNode(\"div\", null, [_createVNode(_component_el_button, {\n    type: \"primary\",\n    onClick: _cache[11] || (_cache[11] = $event => $setup.submitForm($setup.ruleFormRef))\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Create \")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_button, {\n    onClick: _cache[12] || (_cache[12] = $event => $setup.resetForm($setup.ruleFormRef))\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Reset\")]),\n    _: 1 /* STABLE */\n  })])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createVNode","$setup","route","_component_el_form","ref","model","ruleForm","rules","class","_component_el_form_item","label","prop","_component_el_input","doctorName","$event","autosize","surname","type","category","advertisementName","region","_component_vue_tel_input","homePhone","city","address","_component_el_select","doctorId","_createElementBlock","_Fragment","_renderList","doctors","doctor","_createBlock","_component_el_option","key","id","name","value","required","_component_el_date_picker","dateOfBirth","_component_el_radio_group","gender","size","_component_el_radio_button","_createElementVNode","_component_el_button","onClick","_cache","submitForm","ruleFormRef","resetForm"],"sources":["/Users/air/Documents/crm-front/src/views/register/RegisterForm.vue"],"sourcesContent":["<template>\n    <TheComponentHeader \n    header-title=\"Doktor qo'shish\"\n    route=\"DoctorList\"\n    btn-title=\"Orqaga\"\n    />\n    <el-form\n    ref=\"ruleFormRef\"\n    :model=\"ruleForm\"\n    :rules=\"rules\"\n    class=\"demo-ruleForm\"\n    >\n    <el-form-item label=\"Bemor ismi\" prop=\"doctorName\">\n        <el-input v-model=\"ruleForm.doctorName\"  autosize/>\n    </el-form-item>\n    <el-form-item label=\"Bemor familiyasi\" prop=\"surname\">\n        <el-input v-model=\"ruleForm.surname\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Kategoriyasi\" prop=\"category\">\n        <el-input v-model=\"ruleForm.category\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Nima orqali kelgan\" prop=\"advertisementName\">\n        <el-input v-model=\"ruleForm.advertisementName\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Viloyat\" prop=\"region\">\n        <el-input v-model=\"ruleForm.region\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Telefon\" prop=\"mobilePhone\">\n        <vue-tel-input v-model=\"ruleForm.homePhone\"></vue-tel-input>\n    </el-form-item>\n    <el-form-item label=\"Shahar\" prop=\"city\">\n        <el-input v-model=\"ruleForm.city\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Uy manzili\" prop=\"address\">\n        <el-input v-model=\"ruleForm.address\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Doktor\" prop=\"doctorId\">\n        <el-select v-model=\"ruleForm.doctorId\">\n            <el-option\n            v-for=\"doctor in doctors\" \n            :key=\"doctor.id\"\n            :label=\"doctor.name + '(' + doctor.category + ')'\"\n            :value=\"doctor.id\"\n            >\n        </el-option>\n    </el-select>\n</el-form-item>\n\n<el-form-item label=\"Tug'ilgan sanasi\" required>\n    <el-date-picker\n    v-model=\"ruleForm.dateOfBirth\"\n    is-range\n    range-separator=\"To\"\n    start-placeholder=\"Start time\"\n    end-placeholder=\"End time\"\n    />\n</el-form-item>\n\n<el-form-item label=\"Jinsi\" prop=\"gender\">\n    <el-radio-group v-model=\"ruleForm.gender\" size=\"large\">\n        <el-radio-button label=\"ERKAK\" />\n        <el-radio-button label=\"AYOL\" />\n    </el-radio-group>\n</el-form-item>\n</el-form>\n<div>\n    <el-button type=\"primary\" @click=\"submitForm(ruleFormRef)\">\n        Create\n    </el-button>\n    <el-button @click=\"resetForm(ruleFormRef)\">Reset</el-button>\n</div>\n</template>\n\n<script setup>\nimport { onMounted, reactive, ref } from 'vue'\nimport { useDoctors } from \"@/store/doctors.pinia\"\nimport { useToast } from \"@/store/toast.pinia\"\nimport router from '@/router';\nimport TheComponentHeader from '@/components/TheComponentHeader.vue';\nimport Request from '@/api';\nimport { storeToRefs } from 'pinia';\nconst ruleFormRef = ref();\nconst storeDoctor = useDoctors();\n\nconst { doctors } = storeToRefs(storeDoctor);\nconst doctorId = ref(null)\n\nconst ruleForm = reactive({\n    name: '',\n    dateOfBirth: null,\n    surname: '',\n    category: '',\n    serviceCost:'',\n    advertisementName:'',\n    region:'',\n    homePhone:'',\n    mobilePhone:'',\n    city:'',\n    doctorId:null,\n    address:'',\n    gender: 'ERKAK'\n})\n\nconst rules = reactive({\n    doctorName: [\n    { required: true, message: 'Iltimos ism kiriting', trigger: 'blur' },\n    ],\n    surname: [\n    {\n        required: true,\n        message: 'Iltimos familiya kiriting',\n        trigger: 'blur',\n    },\n    ],\n    category: [\n    {\n        required: true,\n        message: 'Iltimos kategoriya kiriting',\n        trigger: 'blur',\n    },\n    ],\n    serviceCost: [\n    {\n        required: true,\n        message: 'Iltimos xizmat narxini kiriting',\n        trigger: 'blur',\n    },\n    ],\n    workTime: [\n    {\n        type: 'date',\n        required: true,\n        message: 'Iltimos ishlash vaqtini kiriting',\n        trigger: 'change',\n    },\n    ]\n})\n\nconst submitForm = async (formEl) => {\n    if (!formEl) return\n    await formEl.validate((valid) => {\n        if (valid) {\n            if(doctorId.value){\n                console.log('sss');\n                useDoctors().updateDoctor(ruleForm);\n            }else{\n                useDoctors().createDoctor(ruleForm);\n            }\n            router.go(-1)\n        } else {\n            useToast().error(\"Xato malumot kiritildi\")\n        }\n    })\n}\n\nconst getOneDoctor = (id) => {\n    Request({\n        url:`doctor/${id}`,\n        method:\"get\"\n    }).then((res) => {\n        ruleForm.doctorName =  res.data.name\n        ruleForm.category =  res.data.category\n        ruleForm.serviceCost =  res.data.serviceCost\n        ruleForm.surname =  res.data.surname\n        ruleForm.workTime =  res.data.workTime\n    }).catch((error) => {\n        useToast().error(error)\n    })\n}\n\nconst resetForm = (formEl) => {\n    if (!formEl) return\n    formEl.resetFields()\n}\n\nonMounted(() => {\n    useDoctors().getAllDoctors();\n    if(router.currentRoute.value.params.doctorId){\n        doctorId.value = router.currentRoute.value.params.doctorId;\n        ruleForm.doctorId = router.currentRoute.value.params.doctorId;\n        getOneDoctor(doctorId.value);\n    }\n})\n</script>\n\n\n<style scoped>\n.demo-ruleForm{\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n}\n\n.demo-ruleForm .el-form-item{\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}