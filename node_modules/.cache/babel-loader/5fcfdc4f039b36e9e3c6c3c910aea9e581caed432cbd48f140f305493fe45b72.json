{"ast":null,"code":"import { createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_time_picker = _resolveComponent(\"el-time-picker\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode($setup[\"TheComponentHeader\"], {\n    \"header-title\": $setup.doctorId ? 'Doktorni tahrirlash' : 'Doktor qo\\'shish',\n    route: \"DoctorList\",\n    \"btn-title\": \"Orqaga\",\n    \"is-button\": true\n  }, null, 8 /* PROPS */, [\"header-title\"]), _createVNode(_component_el_form, {\n    ref: \"ruleFormRef\",\n    model: $setup.ruleForm,\n    rules: $setup.rules,\n    class: \"demo-ruleForm\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"Doktor ismi\",\n      prop: \"doctorName\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.doctorName,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.ruleForm.doctorName = $event),\n        autosize: \"\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Familiyasi\",\n      prop: \"surname\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.surname,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.ruleForm.surname = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Kategoriyasi\",\n      prop: \"category\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.category,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.ruleForm.category = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Xizmat narxi\",\n      prop: \"serviceCost\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.ruleForm.serviceCost,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.ruleForm.serviceCost = $event),\n        type: \"input\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Ish vaqti\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_time_picker, {\n        modelValue: $setup.ruleForm.workTime,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.ruleForm.workTime = $event),\n        \"is-range\": \"\",\n        \"range-separator\": \"To\",\n        \"start-placeholder\": \"Start time\",\n        \"end-placeholder\": \"End time\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\", \"rules\"]), _createElementVNode(\"div\", null, [_createVNode(_component_el_button, {\n    type: \"primary\",\n    onClick: _cache[5] || (_cache[5] = $event => $setup.submitForm($setup.ruleFormRef))\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Create \")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_button, {\n    onClick: _cache[6] || (_cache[6] = $event => $setup.resetForm($setup.ruleFormRef))\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Reset\")]),\n    _: 1 /* STABLE */\n  })])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createVNode","$setup","doctorId","route","_component_el_form","ref","model","ruleForm","rules","class","_component_el_form_item","label","prop","_component_el_input","doctorName","$event","autosize","surname","type","category","serviceCost","required","_component_el_time_picker","workTime","_createElementVNode","_component_el_button","onClick","_cache","submitForm","ruleFormRef","resetForm"],"sources":["/Users/air/Documents/crm-front/src/views/doctors/DoctorForm.vue"],"sourcesContent":["<template>\n    <TheComponentHeader \n    :header-title=\"doctorId ? 'Doktorni tahrirlash' : 'Doktor qo\\'shish'\"\n    route=\"DoctorList\"\n    btn-title=\"Orqaga\"\n    :is-button=\"true\"\n    />\n    <el-form\n    ref=\"ruleFormRef\"\n    :model=\"ruleForm\"\n    :rules=\"rules\"\n    class=\"demo-ruleForm\"\n    >\n    <el-form-item label=\"Doktor ismi\" prop=\"doctorName\">\n        <el-input v-model=\"ruleForm.doctorName\"  autosize/>\n    </el-form-item>\n    <el-form-item label=\"Familiyasi\" prop=\"surname\">\n        <el-input v-model=\"ruleForm.surname\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Kategoriyasi\" prop=\"category\">\n        <el-input v-model=\"ruleForm.category\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Xizmat narxi\" prop=\"serviceCost\">\n        <el-input v-model=\"ruleForm.serviceCost\" type=\"input\" />\n    </el-form-item>\n    <el-form-item label=\"Ish vaqti\" required>\n        <el-time-picker\n        v-model=\"ruleForm.workTime\"\n        is-range\n        range-separator=\"To\"\n        start-placeholder=\"Start time\"\n        end-placeholder=\"End time\"\n        />\n    </el-form-item>\n</el-form>\n<div>\n    <el-button type=\"primary\" @click=\"submitForm(ruleFormRef)\">\n        Create\n    </el-button>\n    <el-button @click=\"resetForm(ruleFormRef)\">Reset</el-button>\n</div>\n</template>\n\n<script setup>\nimport { onMounted, reactive, ref } from 'vue'\n// import { useDoctors } from \"@/store/doctors.pinia\"\n// import { useToast } from \"@/store/toast.pinia\"\nimport router from '@/router';\nimport TheComponentHeader from '@/components/TheComponentHeader.vue';\n// import Request from '@/api';\nimport { useStore } from '@/store';\nconst ruleFormRef = ref();\n\n\nconst doctorId = ref(null)\n\nconst ruleForm = reactive({\n    doctorName: '',\n    workTime: null,\n    surname: '',\n    category: '',\n    serviceCost:''\n})\n\nconst rules = reactive({\n    doctorName: [\n    { required: true, message: 'Iltimos ism kiriting', trigger: 'blur' },\n    ],\n    surname: [\n    {\n        required: true,\n        message: 'Iltimos familiya kiriting',\n        trigger: 'blur',\n    },\n    ],\n    category: [\n    {\n        required: true,\n        message: 'Iltimos kategoriya kiriting',\n        trigger: 'blur',\n    },\n    ],\n    serviceCost: [\n    {\n        required: true,\n        message: 'Iltimos xizmat narxini kiriting',\n        trigger: 'blur',\n    },\n    ],\n    workTime: [\n    {\n        type: 'date',\n        required: true,\n        message: 'Iltimos ishlash vaqtini kiriting',\n        trigger: 'change',\n    },\n    ]\n})\n\nconst submitForm = async (formEl) => {\n    if (!formEl) return\n    await formEl.validate((valid, fields) => {\n        if (valid) {\n            if(doctorId.value){\n                useStore().updateDoctor(ruleForm);\n            }else{\n                useStore().createDoctor(ruleForm);\n            }\n            router.go(-1)\n        } else {\n            console.log('error submit!', fields)\n        }\n    })\n}\n\n// const getOneDoctor = (id) => {\n//     Request({\n//         url:`doctor/${id}`,\n//         method:\"get\"\n//     }).then((res) => {\n//         ruleForm.doctorName =  res.data.name\n//         ruleForm.category =  res.data.category\n//         ruleForm.serviceCost =  res.data.serviceCost\n//         ruleForm.surname =  res.data.surname\n//         ruleForm.workTime =  res.data.workTime\n//     }).catch((error) => {\n//         useToast().error(error)\n//     })\n// }\n\nconst resetForm = (formEl) => {\n    if (!formEl) return\n    formEl.resetFields()\n}\n\nonMounted(() => {\n    if(router.currentRoute.value.params.id){\n        doctorId.value = router.currentRoute.value.params.id;\n        // getOneDoctor(doctorId.value);\n        console.log(useStore().doctors)\n        useStore().doctors.forEach(item => {\n            console.log(item);\n            if(item.id === doctorId.value){\n                ruleForm.doctorName =  item.name\n                ruleForm.category =  item.category\n                ruleForm.serviceCost =  item.serviceCost\n                ruleForm.surname =  item.surname\n                ruleForm.workTime =  item.workTime\n            }\n        })\n    }\n})\n</script>\n\n\n<style scoped>\n.demo-ruleForm{\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n}\n\n.demo-ruleForm .el-form-item{\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n</style>"],"mappings":";;;;;;;6DACIA,YAAA,CAKEC,MAAA;IAJD,cAAY,EAAEA,MAAA,CAAAC,QAAQ;IACvBC,KAAK,EAAC,YAAY;IAClB,WAAS,EAAC,QAAQ;IACjB,WAAS,EAAE;6CAEZH,YAAA,CA2BMI,kBAAA;IA1BNC,GAAG,EAAC,aAAa;IAChBC,KAAK,EAAEL,MAAA,CAAAM,QAAQ;IACfC,KAAK,EAAEP,MAAA,CAAAO,KAAK;IACbC,KAAK,EAAC;;sBAEN,MAEe,CAFfT,YAAA,CAEeU,uBAAA;MAFDC,KAAK,EAAC,aAAa;MAACC,IAAI,EAAC;;wBACnC,MAAmD,CAAnDZ,YAAA,CAAmDa,mBAAA;oBAAhCZ,MAAA,CAAAM,QAAQ,CAACO,UAAU;mEAAnBb,MAAA,CAAAM,QAAQ,CAACO,UAAU,GAAAC,MAAA;QAAGC,QAAQ,EAAR;;;QAE7ChB,YAAA,CAEeU,uBAAA;MAFDC,KAAK,EAAC,YAAY;MAACC,IAAI,EAAC;;wBAClC,MAAoD,CAApDZ,YAAA,CAAoDa,mBAAA;oBAAjCZ,MAAA,CAAAM,QAAQ,CAACU,OAAO;mEAAhBhB,MAAA,CAAAM,QAAQ,CAACU,OAAO,GAAAF,MAAA;QAAEG,IAAI,EAAC;;;QAE9ClB,YAAA,CAEeU,uBAAA;MAFDC,KAAK,EAAC,cAAc;MAACC,IAAI,EAAC;;wBACpC,MAAqD,CAArDZ,YAAA,CAAqDa,mBAAA;oBAAlCZ,MAAA,CAAAM,QAAQ,CAACY,QAAQ;mEAAjBlB,MAAA,CAAAM,QAAQ,CAACY,QAAQ,GAAAJ,MAAA;QAAEG,IAAI,EAAC;;;QAE/ClB,YAAA,CAEeU,uBAAA;MAFDC,KAAK,EAAC,cAAc;MAACC,IAAI,EAAC;;wBACpC,MAAwD,CAAxDZ,YAAA,CAAwDa,mBAAA;oBAArCZ,MAAA,CAAAM,QAAQ,CAACa,WAAW;mEAApBnB,MAAA,CAAAM,QAAQ,CAACa,WAAW,GAAAL,MAAA;QAAEG,IAAI,EAAC;;;QAElDlB,YAAA,CAQeU,uBAAA;MARDC,KAAK,EAAC,WAAW;MAACU,QAAQ,EAAR;;wBAC5B,MAME,CANFrB,YAAA,CAMEsB,yBAAA;oBALOrB,MAAA,CAAAM,QAAQ,CAACgB,QAAQ;mEAAjBtB,MAAA,CAAAM,QAAQ,CAACgB,QAAQ,GAAAR,MAAA;QAC1B,UAAQ,EAAR,EAAQ;QACR,iBAAe,EAAC,IAAI;QACpB,mBAAiB,EAAC,YAAY;QAC9B,iBAAe,EAAC;;;;;;yCAIxBS,mBAAA,CAKM,cAJFxB,YAAA,CAEYyB,oBAAA;IAFDP,IAAI,EAAC,SAAS;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAZ,MAAA,IAAEd,MAAA,CAAA2B,UAAU,CAAC3B,MAAA,CAAA4B,WAAW;;sBAAG,MAE3D,C,iBAF2D,UAE3D,E;;MACA7B,YAAA,CAA4DyB,oBAAA;IAAhDC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAZ,MAAA,IAAEd,MAAA,CAAA6B,SAAS,CAAC7B,MAAA,CAAA4B,WAAW;;sBAAG,MAAK,C,iBAAL,OAAK,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}