{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { onMounted, reactive, ref } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { usePatients } from '@/store/patients.pinia';\nimport TheComponentHeader from '@/components/TheComponentHeader.vue';\nimport PriceSpacer from \"@/helpers/PriceSpacer.js\";\nimport router from '@/router';\nimport ThePagination from '@/components/ThePagination.vue';\nimport { useDoctors } from '@/store/doctors.pinia';\nconst formLabelWidth = '140px';\nexport default {\n  __name: 'CashList',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const storePatient = usePatients();\n    const storeDoctor = useDoctors();\n    const {\n      patients\n    } = storeToRefs(storePatient);\n    const {\n      doctors\n    } = storeToRefs(storeDoctor);\n    const cashDialog = ref(false);\n    const size = ref(10);\n    const currentPage = ref(1);\n    const form = reactive({\n      name: '',\n      region: ''\n    });\n    const handleRowClick = row => {\n      cashDialog.value = !cashDialog.value;\n      useDoctors().getAllDoctors();\n      console.log(row);\n      form.name = row.name;\n      form.region = row.region;\n    };\n    const handleEdit = id => {\n      router.push({\n        name: \"DoctorFormEdit\",\n        params: {\n          id: id\n        }\n      });\n    };\n    const handleDelete = async id => {\n      await usePatients().deletePatient(id);\n      await usePatients().getAllPatients();\n    };\n    onMounted(() => {\n      usePatients().getAllPatients();\n    });\n    const __returned__ = {\n      storePatient,\n      storeDoctor,\n      patients,\n      doctors,\n      cashDialog,\n      formLabelWidth,\n      size,\n      currentPage,\n      form,\n      handleRowClick,\n      handleEdit,\n      handleDelete,\n      onMounted,\n      reactive,\n      ref,\n      get storeToRefs() {\n        return storeToRefs;\n      },\n      get usePatients() {\n        return usePatients;\n      },\n      TheComponentHeader,\n      get PriceSpacer() {\n        return PriceSpacer;\n      },\n      get router() {\n        return router;\n      },\n      ThePagination,\n      get useDoctors() {\n        return useDoctors;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","reactive","ref","storeToRefs","usePatients","TheComponentHeader","PriceSpacer","router","ThePagination","useDoctors","formLabelWidth","storePatient","storeDoctor","patients","doctors","cashDialog","size","currentPage","form","name","region","handleRowClick","row","value","getAllDoctors","console","log","handleEdit","id","push","params","handleDelete","deletePatient","getAllPatients"],"sources":["/Users/air/Documents/crm-front/src/views/cash/CashList.vue"],"sourcesContent":["<template>\n    \n    <TheComponentHeader \n    header-title=\"Kassa\"\n    route=\"Kassa\"\n    btn-title=\"Kassa qo'shish\"\n    />\n    <div class=\"table__content\">\n        <el-table\n        :data=\"patients\"\n        empty-text=\"Ma'lumot mavjud emas!\"\n        @row-click=\"handleRowClick\"\n        row-key=\"id\"\n        >\n        <el-table-column type=\"index\" label=\"â„–\" width=\"55\"/>\n        <el-table-column label=\"Ismi\" width=\"180\">\n            <template #default=\"scope\">\n                <span>{{ scope.row.name }} {{ scope.row.surname }}</span>\n            </template>\n        </el-table-column>\n        <el-table-column label=\"Kasbi\">\n            <template #default=\"scope\">\n                <span>{{ scope.row.category }}</span>\n            </template>\n        </el-table-column>\n        \n        <el-table-column label=\"Xizmat narxi\">\n            <template #default=\"scope\">\n                <span>{{ PriceSpacer(scope.row.serviceCost) }} so'm</span>\n            </template>\n        </el-table-column>\n        \n        <!-- <el-table-column label=\"Ish vaqti\">\n            <template #default=\"scope\">\n                <span>{{ new Date(scope.row.workTime[0]).getHours() }}:{{ new Date(scope.row.workTime[1]).getHours() }}</span>\n            </template>\n        </el-table-column> -->\n        \n        <el-table-column width=\"182\">\n            <template #default=\"scope\">\n                <div class=\"actions\">\n                    <el-button \n                    size=\"small\" \n                    @click=\"handleEdit(scope.row.id)\"\n                    >Edit</el-button\n                    >\n                    \n                    <el-popconfirm \n                    title=\"Are you sure to delete this?\"\n                    @confirm=\"handleDelete(scope.row.id)\"\n                    >\n                    <template #reference>\n                        <el-button\n                        size=\"small\"\n                        type=\"danger\"\n                        >Delete</el-button\n                        >          \n                    </template>\n                </el-popconfirm>\n            </div>\n        </template>\n    </el-table-column>\n</el-table>\n<ThePagination \nv-show=\"patients?.totalPages > 1\"\n:current-page=\"currentPage\"\n:size=\"size\"\n:total-elements=\"patients?.totalElements\"\n@set-pageable=\"setPageable($event)\"\n/>\n</div>\n\n<el-dialog v-model=\"cashDialog\" title=\"Shipping address\">\n    <el-form :model=\"form\">\n        <el-form-item label=\"Promotion name\" :label-width=\"formLabelWidth\">\n            <el-input v-model=\"form.name\" autocomplete=\"off\" />\n        </el-form-item>\n        <el-form-item label=\"Zones\" :label-width=\"formLabelWidth\">\n            <el-select v-model=\"form.region\" placeholder=\"Please select a zone\">\n                <el-option \n                v-for=\"doctor in doctors\"\n                :label=\"doctor.name\" \n                :value=\"shanghai\" \n                />\n            </el-select>\n        </el-form-item>\n    </el-form>\n    <template #footer>\n        <span class=\"dialog-footer\">\n            <el-button @click=\"cashDialog = false\">Cancel</el-button>\n            <el-button type=\"primary\" @click=\"cashDialog = false\">\n                Confirm\n            </el-button>\n        </span>\n    </template>\n</el-dialog>\n\n</template>\n\n<script setup>\nimport { onMounted, reactive, ref } from 'vue';\nimport { storeToRefs } from 'pinia';\nimport { usePatients } from '@/store/patients.pinia'\nimport TheComponentHeader from '@/components/TheComponentHeader.vue';\nimport PriceSpacer from \"@/helpers/PriceSpacer.js\"\nimport router from '@/router';\nimport ThePagination from '@/components/ThePagination.vue';\nimport { useDoctors } from '@/store/doctors.pinia';\nconst storePatient = usePatients();\nconst storeDoctor = useDoctors();\nconst { patients } = storeToRefs(storePatient);\nconst { doctors } = storeToRefs(storeDoctor);\nconst cashDialog = ref(false);\nconst formLabelWidth = '140px';\nconst size = ref(10);\nconst currentPage = ref(1);\nconst form = reactive({\n    name: '',\n    region: ''\n})\n\nconst handleRowClick = (row) => {\n    cashDialog.value = !cashDialog.value\n    useDoctors().getAllDoctors();\n    console.log(row);\n    form.name = row.name\n    form.region = row.region\n}\n\nconst handleEdit = (id) => {\n    router.push({ name:\"DoctorFormEdit\", params: {id: id} })\n}\n\nconst handleDelete = async (id) => {\n    await usePatients().deletePatient(id)\n    await usePatients().getAllPatients()\n}\n\nonMounted(() => {\n    usePatients().getAllPatients()\n})\n</script>"],"mappings":";AAoGA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AAC9C,SAASC,WAAW,QAAQ,OAAO;AACnC,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,kBAAkB,MAAM,qCAAqC;AACpE,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,aAAa,MAAM,gCAAgC;AAC1D,SAASC,UAAU,QAAQ,uBAAuB;AAMlD,MAAMC,cAAc,GAAG,OAAO;;;;;;;IAL9B,MAAMC,YAAY,GAAGP,WAAW,CAAC,CAAC;IAClC,MAAMQ,WAAW,GAAGH,UAAU,CAAC,CAAC;IAChC,MAAM;MAAEI;IAAS,CAAC,GAAGV,WAAW,CAACQ,YAAY,CAAC;IAC9C,MAAM;MAAEG;IAAQ,CAAC,GAAGX,WAAW,CAACS,WAAW,CAAC;IAC5C,MAAMG,UAAU,GAAGb,GAAG,CAAC,KAAK,CAAC;IAE7B,MAAMc,IAAI,GAAGd,GAAG,CAAC,EAAE,CAAC;IACpB,MAAMe,WAAW,GAAGf,GAAG,CAAC,CAAC,CAAC;IAC1B,MAAMgB,IAAI,GAAGjB,QAAQ,CAAC;MAClBkB,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE;IACZ,CAAC,CAAC;IAEF,MAAMC,cAAc,GAAIC,GAAG,IAAK;MAC5BP,UAAU,CAACQ,KAAK,GAAG,CAACR,UAAU,CAACQ,KAAK;MACpCd,UAAU,CAAC,CAAC,CAACe,aAAa,CAAC,CAAC;MAC5BC,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;MAChBJ,IAAI,CAACC,IAAI,GAAGG,GAAG,CAACH,IAAI;MACpBD,IAAI,CAACE,MAAM,GAAGE,GAAG,CAACF,MAAM;IAC5B,CAAC;IAED,MAAMO,UAAU,GAAIC,EAAE,IAAK;MACvBrB,MAAM,CAACsB,IAAI,CAAC;QAAEV,IAAI,EAAC,gBAAgB;QAAEW,MAAM,EAAE;UAACF,EAAE,EAAEA;QAAE;MAAE,CAAC,CAAC;IAC5D,CAAC;IAED,MAAMG,YAAY,GAAG,MAAOH,EAAE,IAAK;MAC/B,MAAMxB,WAAW,CAAC,CAAC,CAAC4B,aAAa,CAACJ,EAAE,CAAC;MACrC,MAAMxB,WAAW,CAAC,CAAC,CAAC6B,cAAc,CAAC,CAAC;IACxC,CAAC;IAEDjC,SAAS,CAAC,MAAM;MACZI,WAAW,CAAC,CAAC,CAAC6B,cAAc,CAAC,CAAC;IAClC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}